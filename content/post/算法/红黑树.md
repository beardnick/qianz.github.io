---
title: 红黑树
date: 2019-06-21 14:20:34
categories:
- 算法
tags: 
- 算法
- 数据结构
---

## 简介

### 基本特点
红黑树最突出的特点在于它的每个结点除了数值之外还多了一个颜色属性，该属性要么为黑要么为红，这也是其名字的由来.

### 性质

1. 每个结点为红或者黑色
2. 根结点必须为黑色
3. 每个叶结点为黑色(叶结点可以表示为null或nil，叶结点一般省略不画在图上)
4. 如果一个结点为红色，则其子结点必须为黑色（也就是不能有两个连续的红色结点）
5. 每个结点到其子树的叶子结点的所有简单路径上的黑色结点数相同（这个数目被称为以该节点为根的树的黑高)

这些性质的引入是为了保证红黑树整体上处于一种相对来说比较平衡的状态，因为这些性质确保了**没有一条路径会比另外一条路径长出两倍**.    [为什么呢？](#no_double_length_row)

拥有了这样的平衡性，红黑树基本的查找、插入删除操作的时间复杂度都为O(lgn)

<!--more -->


## 基本操作

### 单旋转

单旋转分为左旋和右旋，两者行为对称，这里只说左旋
可以想象为AB连线中心有一个点被固定了，然后绕着那个点逆时针旋转，这样B就替代了A的位置

![左旋](/single_spin.jpg)


<!--more-->

### 双旋转

双旋转由两个单旋转组成

![双旋](/double_spin.jpg)


## 一些小证明

### <a name="no_double_length_row">为什么没有一条路径会比另外一条路径长出两倍?</a>

每条路径中黑色结点数相同，当一条路径是另外一条路径长度的两倍时，那么只有可能是短路径全是黑色节点，长路径一半黑一半红，而且红黑要刚好互相间隔开，不然就会违反不能有两个连续的红的结点的规则。
![double_length](/double.jpg)
如果一条路径长于另外一条路径两倍，那么不论如何长路径都会有两个连续红色。
![more_than_double_length](/double1.jpg)

未完待续
